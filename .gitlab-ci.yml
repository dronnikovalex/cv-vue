stages:          # List of stages for jobs, and their order of execution
  - build
  - test
  - deploy

variables:
  SLACK_WEBHOOK_URL: $SLACK_WEBHOOK_URL

before_script:
  - docker

build:   # This job also runs in the test stage
  stage: build    # It can run at the same time as unit-test-job (in parallel).
  allow_failure: true
  script:
    - echo "Its build"

run-e2e-tests:   # This job also runs in the test stage
  image: cypress/browsers:node14.19.0-chrome100-ff99-edge
  stage: test    # It can run at the same time as unit-test-job (in parallel).
  allow_failure: true
  script:
    - npm install

deploy:   # This job also runs in the test stage
  stage: deploy    # It can run at the same time as unit-test-job (in parallel).
  allow_failure: true
  script:
    - echo "Its deploy"
